<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Talk to Kotaro: flaskapp Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Talk to Kotaro
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">flaskapp Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main script of Talk to Kotaro, containing the Flask app which serves the webpages for the browser side and executes every back-end function.  
<a href="namespaceflaskapp.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4e2b61a6cd02fefe5debaa99c77b76fc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a4e2b61a6cd02fefe5debaa99c77b76fc">answer</a> ()</td></tr>
<tr class="memdesc:a4e2b61a6cd02fefe5debaa99c77b76fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives and stores the answers of the Likert Scale questionnaire at the SQLite database and sends the volunteer back to the login page.  <a href="namespaceflaskapp.html#a4e2b61a6cd02fefe5debaa99c77b76fc">More...</a><br /></td></tr>
<tr class="separator:a4e2b61a6cd02fefe5debaa99c77b76fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b54299b45562eea909bffada532141"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a58b54299b45562eea909bffada532141">audio</a> ()</td></tr>
<tr class="memdesc:a58b54299b45562eea909bffada532141"><td class="mdescLeft">&#160;</td><td class="mdescRight">URL call which receives the latest audio file of a volunteer.  <a href="namespaceflaskapp.html#a58b54299b45562eea909bffada532141">More...</a><br /></td></tr>
<tr class="separator:a58b54299b45562eea909bffada532141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd52e907afd8ee46700f98123b1e185b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#abd52e907afd8ee46700f98123b1e185b">con</a> ()</td></tr>
<tr class="memdesc:abd52e907afd8ee46700f98123b1e185b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the consent form and experiment explanation page.  <a href="namespaceflaskapp.html#abd52e907afd8ee46700f98123b1e185b">More...</a><br /></td></tr>
<tr class="separator:abd52e907afd8ee46700f98123b1e185b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af003e1e610981a0c629f3434cc7895c9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#af003e1e610981a0c629f3434cc7895c9">crear</a> ()</td></tr>
<tr class="memdesc:af003e1e610981a0c629f3434cc7895c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the profile creation page.  <a href="namespaceflaskapp.html#af003e1e610981a0c629f3434cc7895c9">More...</a><br /></td></tr>
<tr class="separator:af003e1e610981a0c629f3434cc7895c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3878e32477e536a62108753ac78ca279"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a3878e32477e536a62108753ac78ca279">create</a> ()</td></tr>
<tr class="memdesc:a3878e32477e536a62108753ac78ca279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function which handles the creation of volunteers' profiles.  <a href="namespaceflaskapp.html#a3878e32477e536a62108753ac78ca279">More...</a><br /></td></tr>
<tr class="separator:a3878e32477e536a62108753ac78ca279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9e5fae1c2735ac0d1ce4fd6ed0f47c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#aeb9e5fae1c2735ac0d1ce4fd6ed0f47c">dele</a> ()</td></tr>
<tr class="memdesc:aeb9e5fae1c2735ac0d1ce4fd6ed0f47c"><td class="mdescLeft">&#160;</td><td class="mdescRight">URL call which handles the deletion of a volunteer's profile and all data related to it.  <a href="namespaceflaskapp.html#aeb9e5fae1c2735ac0d1ce4fd6ed0f47c">More...</a><br /></td></tr>
<tr class="separator:aeb9e5fae1c2735ac0d1ce4fd6ed0f47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67998a04455e119f4963e3e295e0fa6b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a67998a04455e119f4963e3e295e0fa6b">dmp</a> ()</td></tr>
<tr class="memdesc:a67998a04455e119f4963e3e295e0fa6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the responsible guardian of a minor to the minor's profile and data deletion request webpage.  <a href="namespaceflaskapp.html#a67998a04455e119f4963e3e295e0fa6b">More...</a><br /></td></tr>
<tr class="separator:a67998a04455e119f4963e3e295e0fa6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0849d8508ee18fa357d0db4c3276b6ec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a0849d8508ee18fa357d0db4c3276b6ec">exper</a> ()</td></tr>
<tr class="memdesc:a0849d8508ee18fa357d0db4c3276b6ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the login page of the experiment without resetting the session.  <a href="namespaceflaskapp.html#a0849d8508ee18fa357d0db4c3276b6ec">More...</a><br /></td></tr>
<tr class="separator:a0849d8508ee18fa357d0db4c3276b6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a41fbf02cb55790537f38a97cda1edb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a5a41fbf02cb55790537f38a97cda1edb">favicon</a> ()</td></tr>
<tr class="memdesc:a5a41fbf02cb55790537f38a97cda1edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the Talk to Kotaro icon on the browser side.  <a href="namespaceflaskapp.html#a5a41fbf02cb55790537f38a97cda1edb">More...</a><br /></td></tr>
<tr class="separator:a5a41fbf02cb55790537f38a97cda1edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da6042d38ade9fcefb590220b94279b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a5da6042d38ade9fcefb590220b94279b">Hanasu</a> ()</td></tr>
<tr class="memdesc:a5da6042d38ade9fcefb590220b94279b"><td class="mdescLeft">&#160;</td><td class="mdescRight">URL call for serving the audio file of Kotaro's synthesized speech to the browser side.  <a href="namespaceflaskapp.html#a5da6042d38ade9fcefb590220b94279b">More...</a><br /></td></tr>
<tr class="separator:a5da6042d38ade9fcefb590220b94279b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8de20a94281dcdd8d9753905774576b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#af8de20a94281dcdd8d9753905774576b">index</a> ()</td></tr>
<tr class="memdesc:af8de20a94281dcdd8d9753905774576b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the landing page for the experiment, containing explanation about it.  <a href="namespaceflaskapp.html#af8de20a94281dcdd8d9753905774576b">More...</a><br /></td></tr>
<tr class="separator:af8de20a94281dcdd8d9753905774576b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc30be9a4b41432885bb4aa8c5049ef6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#adc30be9a4b41432885bb4aa8c5049ef6">inst</a> ()</td></tr>
<tr class="memdesc:adc30be9a4b41432885bb4aa8c5049ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the page which contains the instructions for the experiment.  <a href="namespaceflaskapp.html#adc30be9a4b41432885bb4aa8c5049ef6">More...</a><br /></td></tr>
<tr class="separator:adc30be9a4b41432885bb4aa8c5049ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fc4cfe00b888b1b4e3736bd68aaab9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a26fc4cfe00b888b1b4e3736bd68aaab9">jikken</a> ()</td></tr>
<tr class="memdesc:a26fc4cfe00b888b1b4e3736bd68aaab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the login page for experiment while setting all session variables as their default values.  <a href="namespaceflaskapp.html#a26fc4cfe00b888b1b4e3736bd68aaab9">More...</a><br /></td></tr>
<tr class="separator:a26fc4cfe00b888b1b4e3736bd68aaab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a772606ac9c0aa64d05bf3e05989e9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a47a772606ac9c0aa64d05bf3e05989e9">like</a> ()</td></tr>
<tr class="memdesc:a47a772606ac9c0aa64d05bf3e05989e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders the optional Likert Scale questionnaire page.  <a href="namespaceflaskapp.html#a47a772606ac9c0aa64d05bf3e05989e9">More...</a><br /></td></tr>
<tr class="separator:a47a772606ac9c0aa64d05bf3e05989e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d002ad7eac613047fc343d3c927ea3b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a6d002ad7eac613047fc343d3c927ea3b">main</a> ()</td></tr>
<tr class="memdesc:a6d002ad7eac613047fc343d3c927ea3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Login function which checks if username and password are correct.  <a href="namespaceflaskapp.html#a6d002ad7eac613047fc343d3c927ea3b">More...</a><br /></td></tr>
<tr class="separator:a6d002ad7eac613047fc343d3c927ea3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2463d92b580c650d4624360442baee1a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a2463d92b580c650d4624360442baee1a">r</a> ()</td></tr>
<tr class="memdesc:a2463d92b580c650d4624360442baee1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the latest recording of the volunteer's speech with correct filename convention.  <a href="namespaceflaskapp.html#a2463d92b580c650d4624360442baee1a">More...</a><br /></td></tr>
<tr class="separator:a2463d92b580c650d4624360442baee1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c2581c36a6f4791c24d04c0ca4a8f5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#ad1c2581c36a6f4791c24d04c0ca4a8f5">receive</a> ()</td></tr>
<tr class="memdesc:ad1c2581c36a6f4791c24d04c0ca4a8f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives a single frame of the current facial expression of a volunteer, converts it to an np.array and, if real time face detection is enabled, performs haarcascade face detection and stores the size and location of the first face to be detected.  <a href="namespaceflaskapp.html#ad1c2581c36a6f4791c24d04c0ca4a8f5">More...</a><br /></td></tr>
<tr class="separator:ad1c2581c36a6f4791c24d04c0ca4a8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a0eb2d3ba24b8211b2e5299098536a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a58a0eb2d3ba24b8211b2e5299098536a">record_status</a> ()</td></tr>
<tr class="memdesc:a58a0eb2d3ba24b8211b2e5299098536a"><td class="mdescLeft">&#160;</td><td class="mdescRight">URL call which checks the current state of audio and video recording at the browser side.  <a href="namespaceflaskapp.html#a58a0eb2d3ba24b8211b2e5299098536a">More...</a><br /></td></tr>
<tr class="separator:a58a0eb2d3ba24b8211b2e5299098536a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d030581dd8bd410655d59a51744b692"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a3d030581dd8bd410655d59a51744b692">sendImage</a> ()</td></tr>
<tr class="memdesc:a3d030581dd8bd410655d59a51744b692"><td class="mdescLeft">&#160;</td><td class="mdescRight">URL call which sends an image file from the browser side to the server.  <a href="namespaceflaskapp.html#a3d030581dd8bd410655d59a51744b692">More...</a><br /></td></tr>
<tr class="separator:a3d030581dd8bd410655d59a51744b692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31cd2f53d0e2a6fb84b44c321ffd951b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a31cd2f53d0e2a6fb84b44c321ffd951b">sR</a> ()</td></tr>
<tr class="memdesc:a31cd2f53d0e2a6fb84b44c321ffd951b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an email requesting the deletion of a minor's profile containing its ID and picture for identification purposes.  <a href="namespaceflaskapp.html#a31cd2f53d0e2a6fb84b44c321ffd951b">More...</a><br /></td></tr>
<tr class="separator:a31cd2f53d0e2a6fb84b44c321ffd951b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77654d8fc8753878e92326ce0f2206f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#ac77654d8fc8753878e92326ce0f2206f">want</a> ()</td></tr>
<tr class="memdesc:ac77654d8fc8753878e92326ce0f2206f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends users who want to delete the data they have contibuted so far to the deletion request web page.  <a href="namespaceflaskapp.html#ac77654d8fc8753878e92326ce0f2206f">More...</a><br /></td></tr>
<tr class="separator:ac77654d8fc8753878e92326ce0f2206f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afe63fea7be31b0200b496d08bc6b517d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#afe63fea7be31b0200b496d08bc6b517d">app</a> = Flask(__name__)</td></tr>
<tr class="memdesc:afe63fea7be31b0200b496d08bc6b517d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flask app instance.  <a href="namespaceflaskapp.html#afe63fea7be31b0200b496d08bc6b517d">More...</a><br /></td></tr>
<tr class="separator:afe63fea7be31b0200b496d08bc6b517d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59a92124a941938b19239bdb5babf570"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a59a92124a941938b19239bdb5babf570">audioLoc</a> = &quot;./memory/<a class="el" href="namespaceflaskapp.html#a58b54299b45562eea909bffada532141">audio</a>/&quot;</td></tr>
<tr class="memdesc:a59a92124a941938b19239bdb5babf570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Location where the audio recordings of what volunteers tell Kotaro are stored.  <a href="namespaceflaskapp.html#a59a92124a941938b19239bdb5babf570">More...</a><br /></td></tr>
<tr class="separator:a59a92124a941938b19239bdb5babf570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795d1912e73739f7fd4b3830a7f105b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a795d1912e73739f7fd4b3830a7f105b1">current_dir</a> = getcwd()</td></tr>
<tr class="memdesc:a795d1912e73739f7fd4b3830a7f105b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current location where the main script is running.  <a href="namespaceflaskapp.html#a795d1912e73739f7fd4b3830a7f105b1">More...</a><br /></td></tr>
<tr class="separator:a795d1912e73739f7fd4b3830a7f105b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31a353aa4546d02307dfe50d27b4154"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#ab31a353aa4546d02307dfe50d27b4154">dbLoc</a> = &quot;./memory/profile.sql&quot;</td></tr>
<tr class="memdesc:ab31a353aa4546d02307dfe50d27b4154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Location of the SQLite database.  <a href="namespaceflaskapp.html#ab31a353aa4546d02307dfe50d27b4154">More...</a><br /></td></tr>
<tr class="separator:ab31a353aa4546d02307dfe50d27b4154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832ddc04754e8a43d4f3c6165b1294a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a832ddc04754e8a43d4f3c6165b1294a7">host</a></td></tr>
<tr class="separator:a832ddc04754e8a43d4f3c6165b1294a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fb0f45ee0195c7422a49e6a8d72369"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#af8fb0f45ee0195c7422a49e6a8d72369">port</a></td></tr>
<tr class="separator:af8fb0f45ee0195c7422a49e6a8d72369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18472a311d5a16b50e72ad812261c5cf"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a18472a311d5a16b50e72ad812261c5cf">SESSION_TYPE</a> = 'filesystem'</td></tr>
<tr class="memdesc:a18472a311d5a16b50e72ad812261c5cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session type for flask_session, storing the current session information as files in the flask_session folder in the server or in the docker container.  <a href="namespaceflaskapp.html#a18472a311d5a16b50e72ad812261c5cf">More...</a><br /></td></tr>
<tr class="separator:a18472a311d5a16b50e72ad812261c5cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6539143e2581ab79910cfea7a9320ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#aa6539143e2581ab79910cfea7a9320ce">threads</a></td></tr>
<tr class="separator:aa6539143e2581ab79910cfea7a9320ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5102c5e53da9e433c0e860e0533e860f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceflaskapp.html#a5102c5e53da9e433c0e860e0533e860f">videoLoc</a> = &quot;./memory/video/&quot;</td></tr>
<tr class="memdesc:a5102c5e53da9e433c0e860e0533e860f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Location where the video of the facial expression of volunteers are stored.  <a href="namespaceflaskapp.html#a5102c5e53da9e433c0e860e0533e860f">More...</a><br /></td></tr>
<tr class="separator:a5102c5e53da9e433c0e860e0533e860f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main script of Talk to Kotaro, containing the Flask app which serves the webpages for the browser side and executes every back-end function. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4e2b61a6cd02fefe5debaa99c77b76fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2b61a6cd02fefe5debaa99c77b76fc">&#9670;&nbsp;</a></span>answer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.answer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives and stores the answers of the Likert Scale questionnaire at the SQLite database and sends the volunteer back to the login page. </p>

</div>
</div>
<a id="a58b54299b45562eea909bffada532141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b54299b45562eea909bffada532141">&#9670;&nbsp;</a></span>audio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.audio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>URL call which receives the latest audio file of a volunteer. </p>

</div>
</div>
<a id="abd52e907afd8ee46700f98123b1e185b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd52e907afd8ee46700f98123b1e185b">&#9670;&nbsp;</a></span>con()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.con </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the consent form and experiment explanation page. </p>

</div>
</div>
<a id="af003e1e610981a0c629f3434cc7895c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af003e1e610981a0c629f3434cc7895c9">&#9670;&nbsp;</a></span>crear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.crear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the profile creation page. </p>

</div>
</div>
<a id="a3878e32477e536a62108753ac78ca279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3878e32477e536a62108753ac78ca279">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function which handles the creation of volunteers' profiles. </p>
<p>Returns to the login page if there are no errors, loads the profile creation error page otherwise. </p>

</div>
</div>
<a id="aeb9e5fae1c2735ac0d1ce4fd6ed0f47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9e5fae1c2735ac0d1ce4fd6ed0f47c">&#9670;&nbsp;</a></span>dele()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.dele </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>URL call which handles the deletion of a volunteer's profile and all data related to it. </p>

</div>
</div>
<a id="a67998a04455e119f4963e3e295e0fa6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67998a04455e119f4963e3e295e0fa6b">&#9670;&nbsp;</a></span>dmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.dmp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the responsible guardian of a minor to the minor's profile and data deletion request webpage. </p>

</div>
</div>
<a id="a0849d8508ee18fa357d0db4c3276b6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0849d8508ee18fa357d0db4c3276b6ec">&#9670;&nbsp;</a></span>exper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.exper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the login page of the experiment without resetting the session. </p>

</div>
</div>
<a id="a5a41fbf02cb55790537f38a97cda1edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a41fbf02cb55790537f38a97cda1edb">&#9670;&nbsp;</a></span>favicon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.favicon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the Talk to Kotaro icon on the browser side. </p>

</div>
</div>
<a id="a5da6042d38ade9fcefb590220b94279b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da6042d38ade9fcefb590220b94279b">&#9670;&nbsp;</a></span>Hanasu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.Hanasu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>URL call for serving the audio file of Kotaro's synthesized speech to the browser side. </p>

</div>
</div>
<a id="af8de20a94281dcdd8d9753905774576b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8de20a94281dcdd8d9753905774576b">&#9670;&nbsp;</a></span>index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renders the landing page for the experiment, containing explanation about it. </p>

</div>
</div>
<a id="adc30be9a4b41432885bb4aa8c5049ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc30be9a4b41432885bb4aa8c5049ef6">&#9670;&nbsp;</a></span>inst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.inst </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the page which contains the instructions for the experiment. </p>

</div>
</div>
<a id="a26fc4cfe00b888b1b4e3736bd68aaab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26fc4cfe00b888b1b4e3736bd68aaab9">&#9670;&nbsp;</a></span>jikken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.jikken </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renders the login page for experiment while setting all session variables as their default values. </p>

</div>
</div>
<a id="a47a772606ac9c0aa64d05bf3e05989e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47a772606ac9c0aa64d05bf3e05989e9">&#9670;&nbsp;</a></span>like()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.like </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Renders the optional Likert Scale questionnaire page. </p>

</div>
</div>
<a id="a6d002ad7eac613047fc343d3c927ea3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d002ad7eac613047fc343d3c927ea3b">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Login function which checks if username and password are correct. </p>
<p>Loads the experiment main page if correct, loads login error page otherewise. </p>

</div>
</div>
<a id="a2463d92b580c650d4624360442baee1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2463d92b580c650d4624360442baee1a">&#9670;&nbsp;</a></span>r()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.r </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the latest recording of the volunteer's speech with correct filename convention. </p>

</div>
</div>
<a id="ad1c2581c36a6f4791c24d04c0ca4a8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c2581c36a6f4791c24d04c0ca4a8f5">&#9670;&nbsp;</a></span>receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.receive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives a single frame of the current facial expression of a volunteer, converts it to an np.array and, if real time face detection is enabled, performs haarcascade face detection and stores the size and location of the first face to be detected. </p>

</div>
</div>
<a id="a58a0eb2d3ba24b8211b2e5299098536a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58a0eb2d3ba24b8211b2e5299098536a">&#9670;&nbsp;</a></span>record_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.record_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>URL call which checks the current state of audio and video recording at the browser side. </p>
<p>If there is a frame buffer and recording has stopped, the server side saves the video and audio, cryptographs them, stores the latest utterance information (speech contents and prosody) at the SQLite database and deletes original non-cryptographed files. </p>

</div>
</div>
<a id="a3d030581dd8bd410655d59a51744b692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d030581dd8bd410655d59a51744b692">&#9670;&nbsp;</a></span>sendImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.sendImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>URL call which sends an image file from the browser side to the server. </p>
<p>This function is currently only used for receiving images for requesting the deletion of the profile of underage volunteers. </p>

</div>
</div>
<a id="a31cd2f53d0e2a6fb84b44c321ffd951b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31cd2f53d0e2a6fb84b44c321ffd951b">&#9670;&nbsp;</a></span>sR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.sR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an email requesting the deletion of a minor's profile containing its ID and picture for identification purposes. </p>

</div>
</div>
<a id="ac77654d8fc8753878e92326ce0f2206f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77654d8fc8753878e92326ce0f2206f">&#9670;&nbsp;</a></span>want()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def flaskapp.want </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends users who want to delete the data they have contibuted so far to the deletion request web page. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afe63fea7be31b0200b496d08bc6b517d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe63fea7be31b0200b496d08bc6b517d">&#9670;&nbsp;</a></span>app</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app = Flask(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flask app instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">&lt;strong&gt;name&lt;/strong&gt;</td><td>name of the flask app instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59a92124a941938b19239bdb5babf570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a92124a941938b19239bdb5babf570">&#9670;&nbsp;</a></span>audioLoc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string audioLoc = &quot;./memory/<a class="el" href="namespaceflaskapp.html#a58b54299b45562eea909bffada532141">audio</a>/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Location where the audio recordings of what volunteers tell Kotaro are stored. </p>

</div>
</div>
<a id="a795d1912e73739f7fd4b3830a7f105b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795d1912e73739f7fd4b3830a7f105b1">&#9670;&nbsp;</a></span>current_dir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">current_dir = getcwd()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current location where the main script is running. </p>

</div>
</div>
<a id="ab31a353aa4546d02307dfe50d27b4154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab31a353aa4546d02307dfe50d27b4154">&#9670;&nbsp;</a></span>dbLoc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string dbLoc = &quot;./memory/profile.sql&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Location of the SQLite database. </p>

</div>
</div>
<a id="a832ddc04754e8a43d4f3c6165b1294a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a832ddc04754e8a43d4f3c6165b1294a7">&#9670;&nbsp;</a></span>host</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">host</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af8fb0f45ee0195c7422a49e6a8d72369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8fb0f45ee0195c7422a49e6a8d72369">&#9670;&nbsp;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">port</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a18472a311d5a16b50e72ad812261c5cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18472a311d5a16b50e72ad812261c5cf">&#9670;&nbsp;</a></span>SESSION_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string SESSION_TYPE = 'filesystem'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Session type for flask_session, storing the current session information as files in the flask_session folder in the server or in the docker container. </p>

</div>
</div>
<a id="aa6539143e2581ab79910cfea7a9320ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6539143e2581ab79910cfea7a9320ce">&#9670;&nbsp;</a></span>threads</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threads</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5102c5e53da9e433c0e860e0533e860f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5102c5e53da9e433c0e860e0533e860f">&#9670;&nbsp;</a></span>videoLoc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string videoLoc = &quot;./memory/video/&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Location where the video of the facial expression of volunteers are stored. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
